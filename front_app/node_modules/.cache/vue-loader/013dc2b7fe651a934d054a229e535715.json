{"remainingRequest":"/home/hatouxx/priv/cleverhero/cleverhero/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hatouxx/priv/cleverhero/cleverhero/src/components/create_user/User_form_v2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hatouxx/priv/cleverhero/cleverhero/src/components/create_user/User_form_v2.vue","mtime":1575997502562},{"path":"/home/hatouxx/priv/cleverhero/cleverhero/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hatouxx/priv/cleverhero/cleverhero/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hatouxx/priv/cleverhero/cleverhero/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hatouxx/priv/cleverhero/cleverhero/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXRhVmFsaWRhdGVyIGZyb20gJy4vLi4vLi4vc2VydmljZXMvYXBpL2RhdGFfdmFsaWRhdG9yJwoKaW1wb3J0IGlucHV0Rm9ybSBmcm9tICcuLy4uL2lucHV0cy9pbnB1dF9mb3JtX3YxJwppbXBvcnQgaW5wdXREYXRlIGZyb20gJy4vLi4vaW5wdXRzL2lucHV0X2RhdGVfdjEnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7IGlucHV0Rm9ybSwgaW5wdXREYXRlIH0sCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvLyBkYXRhIGFzc29jaWUgYXUgY2hhbXBzICdhZHJlc3NlIG1haWwnCiAgICAgICAgICAgIHNhdmVkRW1haWw6ICcnLAogICAgICAgICAgICBpc1ZhbGlkRW1haWw6IGZhbHNlLAoKICAgICAgICAgICAgLy8gZGF0YSBhc3NvY2llIGF1IGNoYW1wcyAnbW90IGRlIHBhc3NlJwogICAgICAgICAgICBzYXZlZFBhc3N3b3JkOiAnJywKICAgICAgICAgICAgaXNWYWxpZFB3ZDpmYWxzZSwKCiAgICAgICAgICAgIC8vIGRhdGEgYXNzb2NpZSBhdSBjaGFtcHMgJ2NvbmZpcm1hdGlvbiBkZSBtb3QgZGUgcGFzc2UnCiAgICAgICAgICAgIHNhdmVkU2FtZVB3ZDogJycsCgogICAgICAgICAgICAvLyBkYXRhIGFzc29jaWUgYXUgY2hhbXBzICd0ZWxlcGhvbmUnCiAgICAgICAgICAgIHNhdmVkUGhvbmU6ICcnLAogICAgICAgICAgICBpc1ZhbGlkUGhvbmU6IGZhbHNlLAoKICAgICAgICAgICAgLy8gZGF0YSBhc3NvY2llIGF1IGNoYW1wcyAnZGF0ZSBkZSBuYWlzc2FuY2UnCiAgICAgICAgICAgIHNhdmVkQmlydGhkYXk6ICcnLAogICAgICAgICAgICBpc1ZhbGlkQmlydGhkYXk6IGZhbHNlLAoKICAgICAgICAgICAgLy8gZGF0YSBhc3NvY2llIGF1IGNoYW1wcyAnY29kZSBwb3N0YWwnCiAgICAgICAgICAgIHNhdmVkWmlwOiAnJywKICAgICAgICAgICAgaXNWYWxpZFppcDogZmFsc2UsCiAgICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2F2ZUVtYWlsIChlbWFpbCkgewogICAgICAgICAgICB0aGlzLnNhdmVkRW1haWwgPSBlbWFpbC52YWx1ZQogICAgICAgICAgICB0aGlzLmlzVmFsaWRFbWFpbCA9IGVtYWlsLmlzVmFsaWQKICAgICAgICB9LAogICAgICAgIHNhdmVQd2QgKHB3ZCkgewogICAgICAgICAgICB0aGlzLnNhdmVkUGFzc3dvcmQgPSBwd2QudmFsdWUKICAgICAgICAgICAgdGhpcy5pc1ZhbGlkUHdkID0gcHdkLmlzVmFsaWQKICAgICAgICB9LAogICAgICAgIHNhdmVTYW1lUHdkIChwd2QpIHsKICAgICAgICAgICAgdGhpcy5zYXZlZFNhbWVQd2QgPSBwd2QudmFsdWUKICAgICAgICB9LAogICAgICAgIHNhdmVQaG9uZSAocGhvbmUpIHsKICAgICAgICAgICAgdGhpcy5zYXZlZFBob25lID0gcGhvbmUudmFsdWUKICAgICAgICAgICAgdGhpcy5pc1ZhbGlkUGhvbmUgPSBwaG9uZS5pc1ZhbGlkCiAgICAgICAgfSwKICAgICAgICBzYXZlWmlwICh6aXApIHsKICAgICAgICAgICAgdGhpcy5zYXZlZFppcCA9IHppcC52YWx1ZQogICAgICAgICAgICB0aGlzLmlzVmFsaWRaaXAgPSB6aXAuaXNWYWxpZAogICAgICAgIH0sCiAgICAgICAgc2F2ZUJpcnRoZGF5IChkYXRlKSB7CiAgICAgICAgICAgIHRoaXMuc2F2ZWRCaXJ0aGRheSA9IGRhdGUudmFsdWUKICAgICAgICAgICAgdGhpcy5pc1ZhbGlkQmlydGhkYXkgPSBkYXRlLmlzVmFsaWQKICAgICAgICB9LAoKICAgICAgICB2YWxpZGF0ZURhdGEgKCkgewogICAgICAgICAgICAvLyBUT0RPIDogdmVyaWZpZXIgcXUnaWwgbiBleGlzdGUgcGFzIGRlamEgdW4gdXNlciBhdmVjIGNlIG51bWVybyBvdSBjZXR0ZSBhZHJlc3NlIG1haWwKCiAgICAgICAgICAgIHZhciB0b2tlbiA9IGRhdGFWYWxpZGF0ZXIuZ2V0VG9rZW4oewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuc2F2ZWRFbWFpbCwgCiAgICAgICAgICAgICAgICBwaG9uZTogdGhpcy5zYXZlZFBob25lLCAKICAgICAgICAgICAgICAgIHB3ZDogdGhpcy5zYXZlZFBhc3N3b3JkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRlbWl0KCd0b2tlbml6ZWQnLCB0b2tlbik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb2RlUGhvbmUgOiAnICsgZGF0YVZhbGlkYXRlci5nZXRQaG9uZUNvZGUoKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb2RlRW1haWwgOiAnICsgZGF0YVZhbGlkYXRlci5nZXRFbWFpbENvZGUoKSk7CgogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2NyZWF0ZS91c2VyL3ZlcmlmaWNhdGlvbicpCiAgICAgICAgfQogICAgfSwKCiAgICBjb21wdXRlZDogewoKICAgICAgICBpc0J1dHRvbkRpc2FibGUgKCkgewogICAgICAgICAgICByZXR1cm4gISh0aGlzLmlzVmFsaWRFbWFpbCAmJiB0aGlzLmlzVmFsaWRQd2QgJiYgdGhpcy5pc1ZhbGlkUGhvbmUgCiAgICAgICAgICAgICAgICAmJiB0aGlzLmlzVmFsaWRCaXJ0aGRheSAmJiB0aGlzLmlzVmFsaWRaaXAgCiAgICAgICAgICAgICAgICAmJiB0aGlzLnNhdmVkUGFzc3dvcmQgPT09IHRoaXMuc2F2ZWRTYW1lUHdkKQogICAgICAgIH0gCiAgICAgICAgCgogICAgfQogICAgCn0K"},{"version":3,"sources":["User_form_v2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA","file":"User_form_v2.vue","sourceRoot":"src/components/create_user","sourcesContent":["<template>\n    <div class=\"form-data\" >\n        \n        <input-form input-id=\"useremail\" input-type=\"text\" \n            info-label=\"Adresse email\" \n            info-question=\"Cette adresse sera utilisée afin de nous permettre de communiquer avec vous.\"\n            info-error=\"Veuillez entrer une adresse e-mail valide.\"\n            event=\"email\" @email=\"saveEmail\" >\n        </input-form>\n\n        <input-form input-id=\"password\" input-type=\"password\" \n            info-label=\"Mot de passe\" \n            info-error=\"TODO : à définir. Pas de chiffre pour le moment.\"\n            event=\"password\" @password=\"savePwd\" >\n        </input-form>\n        \n        <input-form input-id=\"confirmation\" input-type=\"password\" \n            info-label=\"Confirmation de mot de passe\"\n            info-error=\"TODO : à définir. Pas de chiffre pour le moment.\"\n            event=\"same-password\" @same-password=\"saveSamePwd\" >\n        </input-form>\n\n        <input-form input-id=\"phone\" input-type=\"text\" \n            info-label=\"Téléphone\"\n            info-question=\"Nous utilisons votre numéro de telephone qu'à des fins de sécurité et de maintien de comptes individuels.\"\n            info-error=\"Veuillez entrer un numero de téléphone valide.\"\n            event=\"phone\" @phone=\"savePhone\" >\n        </input-form>\n\n        <input-date info-label=\"Date de naissance : \"\n            event=\"birthday\" @birthday=\"saveBirthday\" >\n        </input-date>\n\n        <input-form input-id=\"zip\" input-type=\"text\" \n            info-label=\"Code postal\"\n            info-error=\"Veuillez entrer un code postale valide.\"\n            event=\"zip\" @zip=\"saveZip\" >\n        </input-form>\n\n        <button class=\"form-button-ok\" @click=\"validateData()\"  v-bind:disabled=\"isButtonDisable\" >\n            <p>Suivant</p>\n        </button>\n\n    </div>\n</template>\n\n<script>\nimport dataValidater from './../../services/api/data_validator'\n\nimport inputForm from './../inputs/input_form_v1'\nimport inputDate from './../inputs/input_date_v1'\n\nexport default {\n    components: { inputForm, inputDate },\n    data () {\n        return {\n            // data associe au champs 'adresse mail'\n            savedEmail: '',\n            isValidEmail: false,\n\n            // data associe au champs 'mot de passe'\n            savedPassword: '',\n            isValidPwd:false,\n\n            // data associe au champs 'confirmation de mot de passe'\n            savedSamePwd: '',\n\n            // data associe au champs 'telephone'\n            savedPhone: '',\n            isValidPhone: false,\n\n            // data associe au champs 'date de naissance'\n            savedBirthday: '',\n            isValidBirthday: false,\n\n            // data associe au champs 'code postal'\n            savedZip: '',\n            isValidZip: false,\n        }\n    },\n\n    methods: {\n        saveEmail (email) {\n            this.savedEmail = email.value\n            this.isValidEmail = email.isValid\n        },\n        savePwd (pwd) {\n            this.savedPassword = pwd.value\n            this.isValidPwd = pwd.isValid\n        },\n        saveSamePwd (pwd) {\n            this.savedSamePwd = pwd.value\n        },\n        savePhone (phone) {\n            this.savedPhone = phone.value\n            this.isValidPhone = phone.isValid\n        },\n        saveZip (zip) {\n            this.savedZip = zip.value\n            this.isValidZip = zip.isValid\n        },\n        saveBirthday (date) {\n            this.savedBirthday = date.value\n            this.isValidBirthday = date.isValid\n        },\n\n        validateData () {\n            // TODO : verifier qu'il n existe pas deja un user avec ce numero ou cette adresse mail\n\n            var token = dataValidater.getToken({\n                email: this.savedEmail, \n                phone: this.savedPhone, \n                pwd: this.savedPassword\n            });\n            this.$emit('tokenized', token);\n            console.log('codePhone : ' + dataValidater.getPhoneCode());\n            console.log('codeEmail : ' + dataValidater.getEmailCode());\n\n            this.$router.push('/create/user/verification')\n        }\n    },\n\n    computed: {\n\n        isButtonDisable () {\n            return !(this.isValidEmail && this.isValidPwd && this.isValidPhone \n                && this.isValidBirthday && this.isValidZip \n                && this.savedPassword === this.savedSamePwd)\n        } \n        \n\n    }\n    \n}\n</script>\n\n<style src=\"../styles/style_forms.css\"></style>\n\n\n\n"]}]}