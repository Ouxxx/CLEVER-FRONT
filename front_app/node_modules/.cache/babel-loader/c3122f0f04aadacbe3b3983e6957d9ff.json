{"remainingRequest":"/home/hatouxx/proj/learning-front/front_app/node_modules/babel-loader/lib/index.js!/home/hatouxx/proj/learning-front/front_app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hatouxx/proj/learning-front/front_app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hatouxx/proj/learning-front/front_app/src/components/create_user/User_form_v2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hatouxx/proj/learning-front/front_app/src/components/create_user/User_form_v2.vue","mtime":1585844390959},{"path":"/home/hatouxx/proj/learning-front/front_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hatouxx/proj/learning-front/front_app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hatouxx/proj/learning-front/front_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hatouxx/proj/learning-front/front_app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGlucHV0Rm9ybSBmcm9tICIuLy4uL2lucHV0cy9pbnB1dF9mb3JtX3YxIjsKaW1wb3J0IGlucHV0RGF0ZSBmcm9tICIuLy4uL2lucHV0cy9pbnB1dF9kYXRlX3YxIjsKCnZhciBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJykuZGVmYXVsdDsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBpbnB1dEZvcm06IGlucHV0Rm9ybSwKICAgIGlucHV0RGF0ZTogaW5wdXREYXRlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gZGF0YSBhc3NvY2llIGF1IGNoYW1wcyAnYWRyZXNzZSBtYWlsJwogICAgICBzYXZlZEVtYWlsOiAnJywKICAgICAgaXNWYWxpZEVtYWlsOiBmYWxzZSwKICAgICAgLy8gZGF0YSBhc3NvY2llIGF1IGNoYW1wcyAnbW90IGRlIHBhc3NlJwogICAgICBzYXZlZFBhc3N3b3JkOiAnJywKICAgICAgaXNWYWxpZFB3ZDogZmFsc2UsCiAgICAgIC8vIGRhdGEgYXNzb2NpZSBhdSBjaGFtcHMgJ2NvbmZpcm1hdGlvbiBkZSBtb3QgZGUgcGFzc2UnCiAgICAgIHNhdmVkU2FtZVB3ZDogJycsCiAgICAgIC8vIGRhdGEgYXNzb2NpZSBhdSBjaGFtcHMgJ3RlbGVwaG9uZScKICAgICAgc2F2ZWRQaG9uZTogJycsCiAgICAgIGlzVmFsaWRQaG9uZTogZmFsc2UsCiAgICAgIC8vIGRhdGEgYXNzb2NpZSBhdSBjaGFtcHMgJ2RhdGUgZGUgbmFpc3NhbmNlJwogICAgICBzYXZlZEJpcnRoZGF5OiAnJywKICAgICAgaXNWYWxpZEJpcnRoZGF5OiBmYWxzZSwKICAgICAgLy8gZGF0YSBhc3NvY2llIGF1IGNoYW1wcyAnY29kZSBwb3N0YWwnCiAgICAgIHNhdmVkWmlwOiAnJywKICAgICAgaXNWYWxpZFppcDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlRW1haWw6IGZ1bmN0aW9uIHNhdmVFbWFpbChlbWFpbCkgewogICAgICB0aGlzLnNhdmVkRW1haWwgPSBlbWFpbC52YWx1ZTsKICAgICAgdGhpcy5pc1ZhbGlkRW1haWwgPSBlbWFpbC5pc1ZhbGlkOwogICAgfSwKICAgIHNhdmVQd2Q6IGZ1bmN0aW9uIHNhdmVQd2QocHdkKSB7CiAgICAgIHRoaXMuc2F2ZWRQYXNzd29yZCA9IHB3ZC52YWx1ZTsKICAgICAgdGhpcy5pc1ZhbGlkUHdkID0gcHdkLmlzVmFsaWQ7CiAgICB9LAogICAgc2F2ZVNhbWVQd2Q6IGZ1bmN0aW9uIHNhdmVTYW1lUHdkKHB3ZCkgewogICAgICB0aGlzLnNhdmVkU2FtZVB3ZCA9IHB3ZC52YWx1ZTsKICAgIH0sCiAgICBzYXZlUGhvbmU6IGZ1bmN0aW9uIHNhdmVQaG9uZShwaG9uZSkgewogICAgICB0aGlzLnNhdmVkUGhvbmUgPSBwaG9uZS52YWx1ZTsKICAgICAgdGhpcy5pc1ZhbGlkUGhvbmUgPSBwaG9uZS5pc1ZhbGlkOwogICAgfSwKICAgIHNhdmVaaXA6IGZ1bmN0aW9uIHNhdmVaaXAoemlwKSB7CiAgICAgIHRoaXMuc2F2ZWRaaXAgPSB6aXAudmFsdWU7CiAgICAgIHRoaXMuaXNWYWxpZFppcCA9IHppcC5pc1ZhbGlkOwogICAgfSwKICAgIHNhdmVCaXJ0aGRheTogZnVuY3Rpb24gc2F2ZUJpcnRoZGF5KGRhdGUpIHsKICAgICAgdGhpcy5zYXZlZEJpcnRoZGF5ID0gZGF0ZS52YWx1ZTsKICAgICAgdGhpcy5pc1ZhbGlkQmlydGhkYXkgPSBkYXRlLmlzVmFsaWQ7CiAgICB9LAogICAgcG9zdEZvcm06IGZ1bmN0aW9uIHBvc3RGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRBZGRyICsgJzonICsgdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRQb3J0ICsgJy9hcGkvdXNlci9mb3JtJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBlbWFpbDogdGhpcy5zYXZlZEVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuc2F2ZWRQYXNzd29yZCwKICAgICAgICAgIHBob25lOiB0aGlzLnNhdmVkUGhvbmUsCiAgICAgICAgICB6aXA6IHRoaXMuc2F2ZWRaaXAsCiAgICAgICAgICBiaXJ0aGRheTogdGhpcy5zYXZlZEJpcnRoZGF5CiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBFbnJpY2hpc3NlbWVudCBkdSBzdG9yZQogICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCB7CiAgICAgICAgICBlbWFpbDogX3RoaXMuc2F2ZUVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnNhdmVkUGFzc3dvcmQsCiAgICAgICAgICBwaG9uZTogX3RoaXMuc2F2ZWRQaG9uZQogICAgICAgIH0pOwoKICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgIGNvbnNvbGUubG9nKCdnZXRFbWFpbCA6ICcgKyBfdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFbWFpbCk7CiAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvY3JlYXRlL3VzZXIvdmVyaWZpY2F0aW9uJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIFRPRE8gOiBhZmZpY2hlciB1bmUgZXJyZXVyIHBvdXIgbGUgY2xpZW50CiAgICAgICAgY29uc29sZS5sb2coJ29uIHJlbnRyZSBkYW5zIGxlIGNhdGNoJyk7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0J1dHRvbkRpc2FibGU6IGZ1bmN0aW9uIGlzQnV0dG9uRGlzYWJsZSgpIHsKICAgICAgcmV0dXJuICEodGhpcy5pc1ZhbGlkRW1haWwgJiYgdGhpcy5pc1ZhbGlkUHdkICYmIHRoaXMuaXNWYWxpZFBob25lICYmIHRoaXMuaXNWYWxpZEJpcnRoZGF5ICYmIHRoaXMuaXNWYWxpZFppcCAmJiB0aGlzLnNhdmVkUGFzc3dvcmQgPT09IHRoaXMuc2F2ZWRTYW1lUHdkKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["User_form_v2.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"form-data\" >\n        \n        <input-form input-id=\"useremail\" input-type=\"text\" \n            info-label=\"Adresse email\" \n            info-question=\"Cette adresse sera utilisée afin de nous permettre de communiquer avec vous.\"\n            info-error=\"Veuillez entrer une adresse e-mail valide.\"\n            event=\"email\" @email=\"saveEmail\" >\n        </input-form>\n\n        <input-form input-id=\"password\" input-type=\"password\" \n            info-label=\"Mot de passe\" \n            info-error=\"TODO : à définir. Pas de chiffre pour le moment.\"\n            event=\"password\" @password=\"savePwd\" >\n        </input-form>\n        \n        <input-form input-id=\"confirmation\" input-type=\"password\" \n            info-label=\"Confirmation de mot de passe\"\n            info-error=\"TODO : à définir. Pas de chiffre pour le moment.\"\n            event=\"same-password\" @same-password=\"saveSamePwd\" >\n        </input-form>\n\n        <input-form input-id=\"phone\" input-type=\"text\" \n            info-label=\"Téléphone\"\n            info-question=\"Nous utilisons votre numéro de telephone qu'à des fins de sécurité et de maintien de comptes individuels.\"\n            info-error=\"Veuillez entrer un numero de téléphone valide.\"\n            event=\"phone\" @phone=\"savePhone\" >\n        </input-form>\n\n        <input-date info-label=\"Date de naissance : \"\n            event=\"birthday\" @birthday=\"saveBirthday\" >\n        </input-date>\n\n        <input-form input-id=\"zip\" input-type=\"text\" \n            info-label=\"Code postal\"\n            info-error=\"Veuillez entrer un code postal valide.\"\n            event=\"zip\" @zip=\"saveZip\" >\n        </input-form>\n\n        <button class=\"form-button-ok\" @click=\"postForm()\"  v-bind:disabled=\"isButtonDisable\" >\n            <p>Suivant</p>\n        </button>\n\n    </div>\n</template>\n\n<script>\n\nimport inputForm from './../inputs/input_form_v1'\nimport inputDate from './../inputs/input_date_v1'\n\nconst axios = require('axios').default\n\nexport default {\n    components: { inputForm, inputDate },\n    data () {\n        return {\n            // data associe au champs 'adresse mail'\n            savedEmail: '',\n            isValidEmail: false,\n\n            // data associe au champs 'mot de passe'\n            savedPassword: '',\n            isValidPwd:false,\n\n            // data associe au champs 'confirmation de mot de passe'\n            savedSamePwd: '',\n\n            // data associe au champs 'telephone'\n            savedPhone: '',\n            isValidPhone: false,\n\n            // data associe au champs 'date de naissance'\n            savedBirthday: '',\n            isValidBirthday: false,\n\n            // data associe au champs 'code postal'\n            savedZip: '',\n            isValidZip: false,\n        }\n    },\n\n    methods: {\n        saveEmail (email) {\n            this.savedEmail = email.value\n            this.isValidEmail = email.isValid\n        },\n        savePwd (pwd) {\n            this.savedPassword = pwd.value\n            this.isValidPwd = pwd.isValid\n        },\n        saveSamePwd (pwd) {\n            this.savedSamePwd = pwd.value\n        },\n        savePhone (phone) {\n            this.savedPhone = phone.value\n            this.isValidPhone = phone.isValid\n        },\n        saveZip (zip) {\n            this.savedZip = zip.value\n            this.isValidZip = zip.isValid\n        },\n        saveBirthday (date) {\n            this.savedBirthday = date.value\n            this.isValidBirthday = date.isValid\n        },\n\n        postForm () {\n\n            axios({\n                method: 'post',\n                url: this.$store.getters.getAddr + ':' + this.$store.getters.getPort + '/api/user/form',\n                data: {\n                    email: this.savedEmail,\n                    password: this.savedPassword,\n                    phone: this.savedPhone,\n                    zip: this.savedZip,\n                    birthday: this.savedBirthday\n                }\n            })\n            .then(() => {\n                \n\n                // Enrichissement du store\n                this.$store.commit( 'setUser', {\n                    email: this.saveEmail,\n                    password: this.savedPassword,\n                    phone: this.savedPhone                    \n                });\n\n\n                console.log('----------------------------'); \n                console.log('getEmail : ' + this.$store.getters.getEmail); \n                console.log('----------------------------'); \n                 \n\n                \n\n\n                this.$router.push('/create/user/verification');                \n            })\n            .catch(error => {\n                 // TODO : afficher une erreur pour le client\n                console.log('on rentre dans le catch');            \n                console.log(error);            \n            })\n        }\n    },\n\n    computed: {\n\n        isButtonDisable () {\n            return !(this.isValidEmail && this.isValidPwd && this.isValidPhone \n                && this.isValidBirthday && this.isValidZip \n                && this.savedPassword === this.savedSamePwd)\n        } \n        \n\n    }\n    \n}\n</script>\n\n<style src=\"../styles/style_forms.css\"></style>\n\n\n\n"],"sourceRoot":"src/components/create_user"}]}