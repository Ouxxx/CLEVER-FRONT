{"remainingRequest":"/home/hatouxx/proj/learning-back/front_app/node_modules/babel-loader/lib/index.js!/home/hatouxx/proj/learning-back/front_app/node_modules/eslint-loader/index.js??ref--13-0!/home/hatouxx/proj/learning-back/front_app/src/services/api/data_validator.js","dependencies":[{"path":"/home/hatouxx/proj/learning-back/front_app/src/services/api/data_validator.js","mtime":1575996372141},{"path":"/home/hatouxx/proj/learning-back/front_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hatouxx/proj/learning-back/front_app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hatouxx/proj/learning-back/front_app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CnZhciBvbkNyZWF0aW9uVXNlcnMgPSBbXTsKdmFyIHRva2VuQ3JlYXRpb24gPSAwOwp2YXIgb25TZWFyY2hpbmdVc2VycyA9IFtdOwp2YXIgdG9rZW5TZWFyY2ggPSAwOwoKZnVuY3Rpb24gZ2V0UmFuZG9tSW50KG1heCkgewogIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKG1heCkpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgZmluZFVzZXI6IGZ1bmN0aW9uIGZpbmRVc2VyKGVtYWlsKSB7CiAgICAvKiB2ZXJpZmljYXRpb25zICovCiAgICBpZiAob25DcmVhdGlvblVzZXJzLmZpbmQoZnVuY3Rpb24gKG5ld3VzZXIpIHsKICAgICAgcmV0dXJuIG5ld3VzZXIudXNlcmRhdGEuZW1haWwgPT09IGVtYWlsLmVtYWlsOwogICAgfSkgIT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vIFRPRE8gOiBpY2kgaWwgZmF1ZHJhaXQgcGx1dG90IGVjcmFzZSBsZSBjb2RlIGF2ZWMgdW4gbm91dmVhdSBldCBsZSByZW52b3llcgogICAgICByZXR1cm4gLTE7CiAgICB9CgogICAgdG9rZW5TZWFyY2grKzsKICAgIHZhciBpZCA9IHRva2VuU2VhcmNoOwogICAgb25TZWFyY2hpbmdVc2Vycy5wdXNoKHsKICAgICAgdXNlcmRhdGE6IGVtYWlsLAogICAgICBpZDogaWQsCiAgICAgIHBob25lY29kZTogJ3Bob25lQ29kZScgKyBnZXRSYW5kb21JbnQoMTAwKQogICAgfSk7CiAgICByZXR1cm4gaWQ7CiAgfSwKICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4odXNlcikgewogICAgLyogdmVyaWZpY2F0aW9ucyAqLwogICAgaWYgKG9uQ3JlYXRpb25Vc2Vycy5maW5kKGZ1bmN0aW9uIChuZXd1c2VyKSB7CiAgICAgIHJldHVybiBuZXd1c2VyLnVzZXJkYXRhLmVtYWlsID09PSB1c2VyLmVtYWlsICYmIG5ld3VzZXIudXNlcmRhdGEucGhvbmUgPT09IHVzZXIucGhvbmUgJiYgbmV3dXNlci51c2VyZGF0YS5wd2QgPT09IHVzZXIucHdkOwogICAgfSkgIT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICB0b2tlbkNyZWF0aW9uKys7CiAgICB2YXIgaWQgPSB0b2tlbkNyZWF0aW9uOwogICAgb25DcmVhdGlvblVzZXJzLnB1c2goewogICAgICB1c2VyZGF0YTogdXNlciwKICAgICAgaWQ6IGlkLAogICAgICBlbWFpbGNvZGU6ICdlbWFpbENvZGUnICsgZ2V0UmFuZG9tSW50KDEwMCksCiAgICAgIHBob25lY29kZTogJ3Bob25lQ29kZScgKyBnZXRSYW5kb21JbnQoMTAwKQogICAgfSk7CiAgICByZXR1cm4gaWQ7CiAgfSwKICBnZXRFbWFpbENvZGU6IGZ1bmN0aW9uIGdldEVtYWlsQ29kZShpZCkgewogICAgdmFyIHVzciA9IG9uQ3JlYXRpb25Vc2Vycy5maW5kKGZ1bmN0aW9uIChuZXd1c2VyKSB7CiAgICAgIHJldHVybiBuZXd1c2VyLnVzZXJkYXRhLmlkID09PSBpZDsKICAgIH0pOwogICAgcmV0dXJuIHVzci5lbWFpbGNvZGU7CiAgfSwKICBnZXRQaG9uZUNvZGU6IGZ1bmN0aW9uIGdldFBob25lQ29kZShpZCkgewogICAgdmFyIHVzciA9IG9uQ3JlYXRpb25Vc2Vycy5maW5kKGZ1bmN0aW9uIChuZXd1c2VyKSB7CiAgICAgIHJldHVybiBuZXd1c2VyLnVzZXJkYXRhLmlkID09PSBpZDsKICAgIH0pOwogICAgcmV0dXJuIHVzci5waG9uZWNvZGU7CiAgfSwKICBnZXRTZWFyY2hDb2RlOiBmdW5jdGlvbiBnZXRTZWFyY2hDb2RlKGlkKSB7CiAgICB2YXIgdXNyID0gb25TZWFyY2hpbmdVc2Vycy5maW5kKGZ1bmN0aW9uIChuZXd1c2VyKSB7CiAgICAgIHJldHVybiBuZXd1c2VyLnVzZXJkYXRhLmlkID09PSBpZDsKICAgIH0pOwogICAgcmV0dXJuIHVzci5waG9uZWNvZGU7CiAgfSwKICBjaGVja0VtYWlsQ29kZTogZnVuY3Rpb24gY2hlY2tFbWFpbENvZGUoKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9LAogIGNoZWNrUGhvbmVDb2RlOiBmdW5jdGlvbiBjaGVja1Bob25lQ29kZSgpIHsKICAgIHJldHVybiB0cnVlOwogIH0KfTs="},{"version":3,"sources":["/home/hatouxx/proj/learning-back/front_app/src/services/api/data_validator.js"],"names":["onCreationUsers","tokenCreation","onSearchingUsers","tokenSearch","getRandomInt","max","Math","floor","random","findUser","email","find","newuser","userdata","undefined","id","push","phonecode","getToken","user","phone","pwd","emailcode","getEmailCode","usr","getPhoneCode","getSearchCode","checkEmailCode","checkPhoneCode"],"mappings":"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","sourcesContent":["\n\nconst onCreationUsers = [];\nvar tokenCreation = 0;\n\nconst onSearchingUsers = [];\nvar tokenSearch = 0;\n\n\nfunction getRandomInt(max) {\n    return Math.floor(Math.random() * Math.floor(max));\n}\n\n\nexport default {\n    findUser(email){\n        /* verifications */\n        if(onCreationUsers.find(newuser => newuser.userdata.email === email.email) != undefined){\n            // TODO : ici il faudrait plutot ecrase le code avec un nouveau et le renvoyer\n            return -1;\n        }\n        tokenSearch++;        \n        var id = tokenSearch;\n\n        onSearchingUsers.push({\n            userdata: email,\n            id: id,\n            phonecode: 'phoneCode' + getRandomInt(100)\n        });\n        return id\n    \n\n    },\n    \n    getToken (user) {\n        /* verifications */\n        if(onCreationUsers.find(newuser => newuser.userdata.email === user.email \n                && newuser.userdata.phone === user.phone\n                && newuser.userdata.pwd === user.pwd) != undefined){\n            return -1;\n        }\n\n        tokenCreation++;        \n        var id = tokenCreation;\n\n\n        onCreationUsers.push({\n            userdata: user,\n            id: id,\n            emailcode: 'emailCode' + getRandomInt(100),\n            phonecode: 'phoneCode' + getRandomInt(100)\n        });\n        return id\n    },\n\n    getEmailCode (id) {  \n        var usr = onCreationUsers.find(newuser => newuser.userdata.id === id);\n        return usr.emailcode;\n    },\n    getPhoneCode (id) {  \n        var usr = onCreationUsers.find(newuser => newuser.userdata.id === id);\n        return usr.phonecode;\n    },\n    getSearchCode (id) {  \n        var usr = onSearchingUsers.find(newuser => newuser.userdata.id === id);\n        return usr.phonecode;\n    },\n    \n    checkEmailCode () { return true },\n    checkPhoneCode () { return true }\n}"]}]}